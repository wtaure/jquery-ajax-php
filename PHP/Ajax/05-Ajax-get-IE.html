<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script>
			window.onload = function(){
				var btn =document.querySelector('button')
//				console.log(btn)
				btn.onclick = function(ev){
					
					//1.创建一个异步对象
					var xmlhttp ;
					
					
					//兼容IE5 IE6
						if(window.XMLHttpRequest){
							//code	for IE7+,
							xmlhttp =new XMLHttpRequest();
						}else{
							//codefor IE5 IE6
							xmlhttp =new ActiveXObject("Microsoft,XMLHTTP");
						}
					/*
					 * 在IE浏览器中，如果通过AJAX发送GET请求，那么IE浏览器认为
					 * 同一个URL只有一个结果
					 * 05-ajax-get.txt === abc (初始值)
					 * 
					 * console.log(Math.random())
					console.log(new Date.getDate())
					 * 
					 * 
					 */
					
					
					
					//2.设置请求方式和请求地址
						/*
						 * method: 请求的类型:GET 或 POST
						 * url : 文件在服务器上的位置
						 * async :true(异步) 或 false(同步)
						 
						 */
					xmlhttp.open("GET","05-get-Ajax.txt?t="+(new Data().getTime()),true);
					//3.发送请求
					xmlhttp.send();
					//4.监听状态的变化
					xmlhttp.onreadystatechange =function(){
						/*
						 * 0.请求未初始化
						 * 1.服务器已建立
						 * 2.请求已接受
						 * 3.请求处理中
						 * 4.请求已完成，且相应已就绪
						 */
						//判断请求是否成功
						
						
						if(xmlhttp.status>=200 &&xmlhttp.status<300 || xmlhttp.status ===304){
								//5.返回请求数据结果
//						console.log("接收到返回的结果")
//							console.log(xmlhttp.responseText)
							alert(xmlhttp.responseText)
							
						}else{	
							console.log("没有接收到")
						}
						if(xmlhttp.readyState == 4){
							//5.返回请求数据结果
						console.log("完成数据传输过程")
						}
						
						
					}
					
					
				}
			}
			
		</script>
	</head>
	<body>
		<!--
        	作者：offline
        	时间：2018-12-04
        	描述：
        	1.什么是Ajax？
        	AJAX是服务器与网页交换数据并更新部分网页的艺术
        	在不重新加载整个页面的情况下
        -->
        <button>发送请求</button>
	</body>
</html>
